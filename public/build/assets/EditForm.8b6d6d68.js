<<<<<<< HEAD:public/build/assets/EditForm.9a45696a.js
var k=Object.defineProperty;var c=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var b=(e,o,r)=>o in e?k(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,v=(e,o)=>{for(var r in o||(o={}))$.call(o,r)&&b(e,r,o[r]);if(c)for(var r of c(o))C.call(o,r)&&b(e,r,o[r]);return e};import{J as I}from"./Label.f2ea9d50.js";import{I as J}from"./InertiaButton.da879e12.js";import{J as S}from"./InputError.ef5e9aea.js";import{p as B,K as g,e as i,o as _,i as D,g as a,k as s,q as m,z as w,B as y,Y as F,w as u,C as f,f as N,j as U,n as p}from"./vendor.7f465e53.js";import{J as E}from"./JigDatepicker.11e5c342.js";import{J as M}from"./Input.b4df4bca.js";import{J as z}from"./SecondaryButton.bbf9bfb6.js";import{I as L}from"./InfiniteSelect.549fb5b3.js";import{_ as A}from"./plugin-vue_export-helper.5a098b48.js";import"./vue-flatpickr.min.4171e8ec.js";import"./main.89e28bce.js";const R=B({name:"EditDetaineeForm",props:{model:Object},components:{InertiaButton:J,JetLabel:I,JetInputError:S,JetInput:M,JigDatepicker:E,JetSecondaryButton:z,InfiniteSelect:L},data(){return{form:g(v({},this.model),{remember:!1}),photoPreview:null,photo_form:g({photo:null},{remember:!1}),photo:null}},mounted(){},computed:{flash(){return this.$page.props.flash||{}}},methods:{async updateModel(){this.form.put(this.route("admin.detainees.update",this.form.id),{onSuccess:e=>{this.flash.success?(this.updateDetaineePhoto(),this.clearPhotoFileInput(),this.$emit("success",this.flash.success)):this.flash.error?this.$emit("error",this.flash.error):this.$emit("error","Unknown server error.")},onError:e=>{this.$emit("error","A server error occurred")}},{remember:!1,preserveState:!0})},updateDetaineePhoto(){if(this.$refs.photo&&this.$refs.photo.files[0]){let e=new FormData;e.append("photo",this.$refs.photo.files[0]),axios.post(route("api.detainee-photo.update",this.form.id),e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(o){this.clearPhotoFileInput()}).catch(function(){this.clearPhotoFileInput()})}},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const e=this.$refs.photo.files[0];if(!e)return;const o=new FileReader;o.onload=r=>{this.photoPreview=r.target.result},o.readAsDataURL(e)},deletePhoto(){this.form.profile_photo_path=null,this.form.profile_photo_url=null},clearPhotoFileInput(){var e;((e=this.$refs.photo)==null?void 0:e.value)&&(this.$refs.photo.value=null)}}}),Y={class:"sm:col-span-4"},T={class:"sm:col-span-4"},q={class:"sm:col-span-4"},K={class:"sm:col-span-4"},O={class:"sm:col-span-4"},G={class:"sm:col-span-4"},H={class:"sm:col-span-4"},Q={class:"mt-2"},W=["src","alt"],X={class:"mt-2"},Z=p(" Select A New Photo "),x=p(" Remove Photo "),ee={class:"mt-2 text-right"},oe=p("Submit");function se(e,o,r,te,re,ae){const l=i("jet-label"),d=i("jet-input"),n=i("jet-input-error"),j=i("infinite-select"),P=i("jig-datepicker"),h=i("jet-secondary-button"),V=i("inertia-button");return _(),D("form",{onSubmit:o[7]||(o[7]=f((...t)=>e.updateModel&&e.updateModel(...t),["prevent"]))},[a("div",Y,[s(l,{for:"first_name",value:"First Name"}),s(d,{class:m(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.first_name}]),type:"text",id:"first_name",name:"first_name",modelValue:e.form.first_name,"onUpdate:modelValue":o[0]||(o[0]=t=>e.form.first_name=t)},null,8,["modelValue","class"]),s(n,{message:e.form.errors.first_name,class:"mt-2"},null,8,["message"])]),a("div",T,[s(l,{for:"last_name",value:"Last Name"}),s(d,{class:m(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.last_name}]),type:"text",id:"last_name",name:"last_name",modelValue:e.form.last_name,"onUpdate:modelValue":o[1]||(o[1]=t=>e.form.last_name=t)},null,8,["modelValue","class"]),s(n,{message:e.form.errors.last_name,class:"mt-2"},null,8,["message"])]),a("div",q,[s(l,{for:"establishment",value:"establishment"}),s(j,{class:m(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.establishment}]),"per-page":15,"api-url":e.route("api.establishments.index"),id:"establishment",name:"establishment",modelValue:e.form.establishment,"onUpdate:modelValue":o[2]||(o[2]=t=>e.form.establishment=t),label:"name"},null,8,["api-url","modelValue","class"]),s(n,{message:e.form.errors.establishment,class:"mt-2"},null,8,["message"])]),a("div",K,[s(l,{for:"cin",value:"Cin"}),s(d,{class:m(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.cin}]),type:"text",id:"cin",name:"cin",modelValue:e.form.cin,"onUpdate:modelValue":o[3]||(o[3]=t=>e.form.cin=t)},null,8,["modelValue","class"]),s(n,{message:e.form.errors.cin,class:"mt-2"},null,8,["message"])]),a("div",O,[s(l,{for:"code",value:"Code"}),s(d,{class:m(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.code}]),type:"text",id:"code",name:"code",modelValue:e.form.code,"onUpdate:modelValue":o[4]||(o[4]=t=>e.form.code=t)},null,8,["modelValue","class"]),s(n,{message:e.form.errors.code,class:"mt-2"},null,8,["message"])]),a("div",G,[s(l,{for:"birthday",value:"Birthday"}),s(P,{class:m(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.birthday}]),id:"birthday",name:"birthday",modelValue:e.form.birthday,"onUpdate:modelValue":o[5]||(o[5]=t=>e.form.birthday=t),"data-date-format":"Y-m-d","data-alt-input":!0,"data-alt-format":"l M J, Y"},null,8,["modelValue","class"]),s(n,{message:e.form.errors.birthday,class:"mt-2"},null,8,["message"])]),a("div",H,[a("input",{type:"file",class:"hidden",ref:"photo",onChange:o[6]||(o[6]=(...t)=>e.updatePhotoPreview&&e.updatePhotoPreview(...t))},null,544),s(l,{for:"photo",value:"Photo"}),w(a("div",Q,[a("img",{src:e.form.profile_photo_url,alt:e.form.first_name,class:"rounded-full h-20 w-20 object-cover"},null,8,W)],512),[[y,!e.photoPreview]]),w(a("div",X,[a("span",{class:"block rounded-full w-20 h-20",style:F("background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+e.photoPreview+"');")},null,4)],512),[[y,e.photoPreview]]),s(h,{class:"mt-2 mr-2",type:"button",onClick:f(e.selectNewPhoto,["prevent"])},{default:u(()=>[Z]),_:1},8,["onClick"]),e.form.profile_photo_path?(_(),N(h,{key:0,type:"button",class:"mt-2",onClick:f(e.deletePhoto,["prevent"])},{default:u(()=>[x]),_:1},8,["onClick"])):U("",!0),s(n,{message:e.photo_form.errors.photo,class:"mt-2"},null,8,["message"])]),a("div",ee,[s(V,{type:"submit",class:"font-semibold text-white bg-primary",disabled:e.form.processing},{default:u(()=>[oe]),_:1},8,["disabled"])])],32)}var ge=A(R,[["render",se]]);export{ge as default};
=======
var k=Object.defineProperty;var c=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var b=(e,o,r)=>o in e?k(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,v=(e,o)=>{for(var r in o||(o={}))$.call(o,r)&&b(e,r,o[r]);if(c)for(var r of c(o))C.call(o,r)&&b(e,r,o[r]);return e};import{J as I}from"./Label.b121d9c9.js";import{I as J}from"./InertiaButton.18e5489b.js";import{J as S}from"./InputError.830002e3.js";import{p as B,K as g,e as i,o as _,i as D,g as a,k as s,q as m,z as w,B as y,Y as F,w as u,C as f,f as N,j as U,n as p}from"./vendor.faa38336.js";import{J as E}from"./JigDatepicker.d192648a.js";import{J as M}from"./Input.ff5f863b.js";import{J as z}from"./SecondaryButton.d07816ca.js";import{I as L}from"./InfiniteSelect.ea8cf2aa.js";import{_ as A}from"./plugin-vue_export-helper.5a098b48.js";import"./vue-flatpickr.min.fb0f0e25.js";import"./main.d81adbcc.js";const R=B({name:"EditDetaineeForm",props:{model:Object},components:{InertiaButton:J,JetLabel:I,JetInputError:S,JetInput:M,JigDatepicker:E,JetSecondaryButton:z,InfiniteSelect:L},data(){return{form:g(v({},this.model),{remember:!1}),photoPreview:null,photo_form:g({photo:null},{remember:!1}),photo:null}},mounted(){},computed:{flash(){return this.$page.props.flash||{}}},methods:{async updateModel(){this.form.put(this.route("admin.detainees.update",this.form.id),{onSuccess:e=>{this.flash.success?(this.updateDetaineePhoto(),this.clearPhotoFileInput(),this.$emit("success",this.flash.success)):this.flash.error?this.$emit("error",this.flash.error):this.$emit("error","Unknown server error.")},onError:e=>{this.$emit("error","A server error occurred")}},{remember:!1,preserveState:!0})},updateDetaineePhoto(){if(this.$refs.photo&&this.$refs.photo.files[0]){let e=new FormData;e.append("photo",this.$refs.photo.files[0]),axios.post(route("api.detainee-photo.update",this.form.id),e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(o){this.clearPhotoFileInput()}).catch(function(){this.clearPhotoFileInput()})}},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const e=this.$refs.photo.files[0];if(!e)return;const o=new FileReader;o.onload=r=>{this.photoPreview=r.target.result},o.readAsDataURL(e)},deletePhoto(){this.form.profile_photo_path=null,this.form.profile_photo_url=null},clearPhotoFileInput(){var e;((e=this.$refs.photo)==null?void 0:e.value)&&(this.$refs.photo.value=null)}}}),Y={class:"sm:col-span-4"},T={class:"sm:col-span-4"},q={class:"sm:col-span-4"},K={class:"sm:col-span-4"},O={class:"sm:col-span-4"},G={class:"sm:col-span-4"},H={class:"sm:col-span-4"},Q={class:"mt-2"},W=["src","alt"],X={class:"mt-2"},Z=p(" Select A New Photo "),x=p(" Remove Photo "),ee={class:"mt-2 text-right"},oe=p("Submit");function se(e,o,r,te,re,ae){const l=i("jet-label"),d=i("jet-input"),n=i("jet-input-error"),j=i("infinite-select"),P=i("jig-datepicker"),h=i("jet-secondary-button"),V=i("inertia-button");return _(),D("form",{onSubmit:o[7]||(o[7]=f((...t)=>e.updateModel&&e.updateModel(...t),["prevent"]))},[a("div",Y,[s(l,{for:"first_name",value:"First Name"}),s(d,{class:m(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.first_name}]),type:"text",id:"first_name",name:"first_name",modelValue:e.form.first_name,"onUpdate:modelValue":o[0]||(o[0]=t=>e.form.first_name=t)},null,8,["modelValue","class"]),s(n,{message:e.form.errors.first_name,class:"mt-2"},null,8,["message"])]),a("div",T,[s(l,{for:"last_name",value:"Last Name"}),s(d,{class:m(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.last_name}]),type:"text",id:"last_name",name:"last_name",modelValue:e.form.last_name,"onUpdate:modelValue":o[1]||(o[1]=t=>e.form.last_name=t)},null,8,["modelValue","class"]),s(n,{message:e.form.errors.last_name,class:"mt-2"},null,8,["message"])]),a("div",q,[s(l,{for:"establishment",value:"establishment"}),s(j,{class:m(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.establishment}]),"per-page":15,"api-url":e.route("api.establishments.index"),id:"establishment",name:"establishment",modelValue:e.form.establishment,"onUpdate:modelValue":o[2]||(o[2]=t=>e.form.establishment=t),label:"name"},null,8,["api-url","modelValue","class"]),s(n,{message:e.form.errors.establishment,class:"mt-2"},null,8,["message"])]),a("div",K,[s(l,{for:"cin",value:"Cin"}),s(d,{class:m(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.cin}]),type:"text",id:"cin",name:"cin",modelValue:e.form.cin,"onUpdate:modelValue":o[3]||(o[3]=t=>e.form.cin=t)},null,8,["modelValue","class"]),s(n,{message:e.form.errors.cin,class:"mt-2"},null,8,["message"])]),a("div",O,[s(l,{for:"code",value:"Code"}),s(d,{class:m(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.code}]),type:"text",id:"code",name:"code",modelValue:e.form.code,"onUpdate:modelValue":o[4]||(o[4]=t=>e.form.code=t)},null,8,["modelValue","class"]),s(n,{message:e.form.errors.code,class:"mt-2"},null,8,["message"])]),a("div",G,[s(l,{for:"birthday",value:"Birthday"}),s(P,{class:m(["w-full",{"border-red-500 sm:focus:border-red-300 sm:focus:ring-red-100":e.form.errors.birthday}]),id:"birthday",name:"birthday",modelValue:e.form.birthday,"onUpdate:modelValue":o[5]||(o[5]=t=>e.form.birthday=t),"data-date-format":"Y-m-d","data-alt-input":!0,"data-alt-format":"l M J, Y"},null,8,["modelValue","class"]),s(n,{message:e.form.errors.birthday,class:"mt-2"},null,8,["message"])]),a("div",H,[a("input",{type:"file",class:"hidden",ref:"photo",onChange:o[6]||(o[6]=(...t)=>e.updatePhotoPreview&&e.updatePhotoPreview(...t))},null,544),s(l,{for:"photo",value:"Photo"}),w(a("div",Q,[a("img",{src:e.form.profile_photo_url,alt:e.form.first_name,class:"rounded-full h-20 w-20 object-cover"},null,8,W)],512),[[y,!e.photoPreview]]),w(a("div",X,[a("span",{class:"block rounded-full w-20 h-20",style:F("background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+e.photoPreview+"');")},null,4)],512),[[y,e.photoPreview]]),s(h,{class:"mt-2 mr-2",type:"button",onClick:f(e.selectNewPhoto,["prevent"])},{default:u(()=>[Z]),_:1},8,["onClick"]),e.form.profile_photo_path?(_(),N(h,{key:0,type:"button",class:"mt-2",onClick:f(e.deletePhoto,["prevent"])},{default:u(()=>[x]),_:1},8,["onClick"])):U("",!0),s(n,{message:e.photo_form.errors.photo,class:"mt-2"},null,8,["message"])]),a("div",ee,[s(V,{type:"submit",class:"font-semibold text-white bg-primary",disabled:e.form.processing},{default:u(()=>[oe]),_:1},8,["disabled"])])],32)}var ge=A(R,[["render",se]]);export{ge as default};
>>>>>>> 6e3567b0bdad3f60238bf468c0dd5fd4dadbd960:public/build/assets/EditForm.8b6d6d68.js
